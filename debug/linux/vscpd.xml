<?xml version = "1.0" encoding = "UTF-8" ?>

<!--
  2020-11-30
  Example configuration file Unix
  Ake Hedman, akhe@grodansparadis.com
  https://www.grodansparadis.com
  Documentation for this configuration file is available
  here https://docs.vscp.org/vscpd/15.0/#/configuring_the_vscp_daemon
-->

<vscpconfig>

    <!--
      runasuser  - Switch to given user credentials after startup. Usually, 
                   this option is required when vscpd needs to bind on 
                   privileged ports on UNIX. To do that, vscpd needs to 
                   be started as root. From a security point of view, running 
                   as root is not advisable, therefore this option can be used 
                   to drop privileges. 
                   Default: "vscp"

      guid       - GUID for daemon - if all nills, "-" or not set and the mac addess 
                   or the IP address of the computer will be used to calculate the 
                   GUID for the daemon Apply for your own GUID series at 
                   guid@vscp.org
                   Default: "FF:FF:FF:FF:FF:FF:FF:F5:00:00:00:00:00:00:00:01"

      servername - is a user name for the daemon whcih it use to greet users with.
                   Default: "The VSCP daemon" 
    -->
    <general runasuser="vscp"
             debbug="0"		
             guid="FF:FF:FF:FF:FF:FF:FF:F5:00:00:00:00:00:00:00:01"
             servername="The VSCP daemon"  
    />

    <!--
        The MQTT settings here is mainly for the daemon itself. The info will
        also be used for drivers that does not have mqtt data defined.
    -->    
    <mqtt host="192.168.1.7"
            port="1883"
            user="vscp"
	    password="secret"
	    clientid="mosq-vscp-daemon-000001"
	    fmt="json"
            qos="0"
            bcleansession="false"
            bretain="false"
            keepalive="60"
            cafile=""
    	    capath=""
    	    certfile=""
    	    keyfile=""
	    pwkeyfile=""
	    format="string" >
        <subscribe topic="vscp/{{guid}}/#"
                        qos="0"
                        options="0" />
	<publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
	<publish topic="source/{{guid}}/{{class}}/{{type}}"/>
        <publish topic="DRAIN/{{guid}}/{{class}}/{{type}}"/>	
    </mqtt>

    <!-- 
        Add level-I/CANAL drivers here 

        enable - Set to true to load driver.
        name - Set a name for the driver. Space in name will be
               traqnslated to '_'
        config - Level I/CANAL driver configuration string.
        flags  - Level I/CANAL driver configuration flags.
        translation - Bit field for incomming event translation
                      bit 1: Level 1 measurement events -> Level II measurement float events
                      bit 2: Level 1 measurement events -> Level II measurement string events
                      bit 3: All Level I events -> Level I over Level II events.
    -->
    <level1driver enable="true" >

        <!-- The canallog driver -->
        <driver enable="false"
                    name="logger"
                    config="/tmp/canallog.txt"
                    flags="1"
                    translation="0x02"
                    path="/var/lib/vscp/drivers/level1/vscpl1drv-logger.so"
                    guid="FF:FF:FF:FF:FF:FF:FF:F5:01:00:00:00:00:00:00:01" >
                <!--
                    The MQTT settings here is mainly for the daemon itself. The info will
                    also be used for drivers that does not have mqtt data defined.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
		    password="secret"
		    clientid="vscp-drv1-logger"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
		    pwkeyfile=""
		    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>
        </driver>

        <!-- The can4vscp driver -->
        <driver enable="false"
                name="can4vscp"
                config="/dev/ttyUSB0"
                flags="0"
                translation="0x02"
                path="/var/lib/vscp/drivers/level1/vscpl1drv-can4vscp.so"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:01:00:00:00:00:00:00:02" >

                <!--
                    The MQTT settings here is mainly for the daemon itself. The info will
                    also be used for drivers that does not have mqtt data defined.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
		    password="secret"
                    clientid="vscp-drv1-can4vscp"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
		    pwkeyfile="" 
		    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!--
            The Level I socketcan driver (You may concider using the
            Level II version instead)
        -->
        <driver enable="false" 
                name="socketcanl1"
                config="can0"
                flags="0"
                translation="0x02"
                path="/var/lib/vscp/drivers/level1/vscpl1drv-socketcan.so.1.1.0"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:01:00:00:00:00:00:00:03" >
                <!--
                    The MQTT settings here is mainly for the daemon itself. The info will
                    also be used for drivers that does not have mqtt data defined.
                -->    
                <mqtt host="192.168.1.7"
                    port="1883"
                    user="vscp"
		    password="secret"
                    clientid="vscp-drv1-socketcan1"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
		    pwkeyfile="" 
		    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}/{{nickname}}"/>
                </mqtt>                    
        </driver>

        <!-- The can232 driver -->
        <driver enable="false" 
                name="can232"
                config="/dev/ttyS0;19200;0;0;125"
                flags="0"
                translation="0x02"
                path="/var/lib/vscp/drivers/level1/vscpl1drv-can232.so"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:01:00:00:00:00:00:00:04" >
 
                <!--
                    The MQTT settings here is mainly for the daemon itself. The info will
                    also be used for drivers that does not have mqtt data defined.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
		    password="secret"
		    clientid="vscp-drv1-can232"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
		    pwkeyfile="" 
		    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

    </level1driver>

    <!-- 
        Add level II VSCP drivers here 

        enable - Set to true to load driver.
        name - Set a name for the driver. Space in name will be
               traqnslated to '_'
        path-driver - Path to the driver dynamic link library file.
        path-config - Path to driver configuration file.
        guid - GUID for driver. Must be set to valid unique GUID.
    -->
    <level2driver enable="true">

        <!-- Level II Logger -->
        <driver enable="false"
                name="Logger"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-logger.so"
                path-config="/var/lib/vscp/vscpd/logger2.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:02:00:00:00:00:00:00:01" >

                <!--
                    The MQTT settings here is mainly for the daemon itself. The info will
                    also be used for drivers that does not have mqtt data defined.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
		    password="secret"
                    clientid="vscp-drv2-logger"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
		    pwkeyfile="" 
		    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!-- Level II lmsensors -->
        <driver enable="false" 
                name="lmsensors"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-lmsensors.so"
                path-config="/var/lib/vscp/vscpd/lmsensors.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:02:00:00:00:00:00:00:02" >

                <!--
                    The MQTT settings here is mainly for the daemon itself. The info will
                    also be used for drivers that does not have mqtt data defined.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
		    password="secret"
                    clientid="vscp-drv2-lmsensors"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
		    pwkeyfile="" 
		    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!-- Level II socketcan  -->
        <driver enable="false" 
                name="socketcan"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-socketcan.so"
                path-config="/var/lib/vscp/vscpd/socketcan.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:02:00:00:00:00:00:00:03" >

                <!--
                    The MQTT settings here is mainly for the daemon itself. The info will
                    also be used for drivers that does not have mqtt data defined.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
		    password="secret"
                    clientid="vscp-drv2-socketcan"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
		    pwkeyfile="" 
		    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!-- Level II mqtt -->
        <driver enable="false" 
                name="mqtt"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-mqtt.so"
                path-config="/var/lib/vscp/vscpd/mqtt.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:02:00:00:00:00:00:00:04" >
  
                <!--
                    The MQTT settings here is mainly for the daemon itself. The info will
                    also be used for drivers that does not have mqtt data defined.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
		    password="secret"
                    clientid="vscp-drv2-mqtt"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
		    pwkeyfile="" 
		    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}/{{nickname}}"/>
                </mqtt>                    
        </driver>

        <!-- Level II tcp/ip link -->
        <driver enable="true"
            name = "tcpiplink"
            path-driver="/home/akhe/development/VSCP/vscpl2drv-tcpiplink/linux/vscpl2drv-tcpiplink.so.1.1.0"
            path-config="/home/akhe/development/VSCP/vscpl2drv-tcpiplink/debug/conf_standard.xml"
            guid="FF:FF:FF:FF:FF:FF:FF:FC:88:99:AA:BB:CC:DD:EE:FF" >

            <!--
                The MQTT settings here is mainly for the daemon itself. The info will
                also be used for drivers that does not have mqtt data defined.
            -->    
            <mqtt host="192.168.1.7"
                port="1883"
                user="vscp"
        password="secret"
                clientid="vscp-drv2-tcpiplink"
                qos="0"
                bcleansession="false"
                bretain="false"
                keepalive="60"
                cafile=""
                capath=""
                certfile=""
                keyfile=""
        pwkeyfile="" 
        format="json" >
                    <subscribe topic="vscp/{{guid}}/#"
                                    qos="0"
                                    options="0" />
                    <publish topic="vscp/{{guid}}/{{class}}/{{type}}/"/>
            </mqtt>                    
        </driver>

        <!-- Level II raw ethernet -->
        <driver enable="false"
                name="rawethernet"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-raweth.so"
                path-config="/var/lib/vscp/vscpd/raweth.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:02:00:00:00:00:00:00:06" >
             
                <!--
                    The MQTT settings here is mainly for the daemon itself. The info will
                    also be used for drivers that does not have mqtt data defined.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
		    password="secret"
		    clientid="vscp-drv2-rawethernet"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
		    pwkeyfile="" 
		    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

       <!-- Level II simulation -->
        <driver enable="false"
                name="sim"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-sim.so"
                path-config="/var/lib/vscp/vscpd/sim.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:02:00:00:00:00:00:00:07" >

                <!--
                    The MQTT settings here is mainly for the daemon itself. The info will
                    also be used for drivers that does not have mqtt data defined.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
		    password="secret"
		    clientid="vscp-drv2-sim"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
		    pwkeyfile="" 
		    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

        <!-- Level II 1-wire driver -->
        <driver enable="false"
                name="1-wire"
                path-driver="/var/lib/vscp/drivers/level2/vscpl2drv-wire1.so"
                path-config="/var/lib/vscp/vscpd/wire1.conf"
                guid="FF:FF:FF:FF:FF:FF:FF:F5:02:00:00:00:00:00:00:08" >
 
                <!--
                    The MQTT settings here is mainly for the daemon itself. The info will
                    also be used for drivers that does not have mqtt data defined.
                -->    
                <mqtt host="127.0.0.1"
                    port="1883"
                    user="vscp"
		    password="secret"
		    clientid="vscp-drv2-1wire"
                    qos="0"
                    bcleansession="false"
                    bretain="false"
                    keepalive="60"
                    cafile=""
    	            capath=""
    	            certfile=""
    	            keyfile=""
		    pwkeyfile="" 
		    format="json" >
                        <subscribe topic="vscp/{{guid}}/#"
                                        qos="0"
                                        options="0" />
                        <publish topic="vscp/{{guid}}/{{class}}/{{type}}"/>
                </mqtt>                    
        </driver>

    </level2driver>

</vscpconfig>
